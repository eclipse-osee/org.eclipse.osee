pipeline {
  agent {
    kubernetes {
      label 'my-agent-pod'
      yaml """
apiVersion: v1
kind: Pod
spec:
 containers:
 - name: node
   image: timbru31/node-chrome:14-alpine
   command:
   - cat
   tty: true
"""
    }
  }
  options {
    skipDefaultCheckout true
  }
  stages {

 stage('Checkout git'){
   steps {
        checkout([$class:'GitSCM',
        branches:[[name: '*/dev']],
        extensions:[[$class: 'CloneOption', timeout: 120]],
        gitTool:'Default',
        userRemoteConfigs:[[url: 'https://git.eclipse.org/r/osee/org.eclipse.osee.git']]
        ])


   }


 }

    stage('Run node') {



      steps {

        container('node') {

          sh 'node -v'

        }

      }
    }
  }
}

