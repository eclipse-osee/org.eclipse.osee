<!--
 * Copyright (c) 2022 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
-->

<!-- http://localhost:4200/ple/asciidoc/working/10/201279 -->

<div
	#main
	class="tw-flex tw-h-full tw-w-full tw-flex-col tw-items-center">
	<div class="tw-flex tw-w-full tw-justify-start tw-pl-8">
		<div class="tw-pr-6">
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1"
				(click)="save()">
				<mat-icon>save</mat-icon>
			</button>
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1">
				<mat-icon>undo</mat-icon>
			</button>
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1">
				<mat-icon>redo</mat-icon>
			</button>
		</div>
		<div class="insertion_actions">
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1"
				(click)="makeInsertion('TABLE')">
				<mat-icon>border_all</mat-icon>
			</button>
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1"
				(click)="makeInsertion('IMAGE')">
				<mat-icon>image</mat-icon>
			</button>
			<button
				mat-icon-button
				class="hover:tw-brightness-70 hover:-tw-translate-y-1"
				(click)="makeInsertion('OSEE_LOGO')">
				<mat-icon>public</mat-icon>
			</button>
			<!-- <button mat-icon-button class="action_bar_button"><mat-icon>copyright_icon</mat-icon></button> -->
		</div>
	</div>

	<div
		class="container tw-z-[4] tw-flex tw-h-4/5 tw-w-11/12 tw-rounded-3xl tw-border tw-border-solid tw-border-background-tooltip">
		<div
			#container__left
			class="tw-w-1/4 tw-overflow-y-auto tw-overflow-x-hidden tw-rounded-l-2xl tw-rounded-r-none tw-p-2">
			<div class="tw-m-auto tw-flex tw-h-full tw-w-full tw-flex-col">
				<mat-form-field ngPreserveWhitespaces>
					<textarea
						type="text"
						matInput
						#code
						placeholder="Start typing code..."
						class="codeInput placeholder:tw-font-mat-bold placeholder:tw-opacity-50"
						[ngModel]="(mdRightinput$ | async) || ''"
						(ngModelChange)="updateText($event)"
						cdkTextareaAutosize
						ngPreserveWhitespaces></textarea>
				</mat-form-field>
			</div>
		</div>
		<div
			#resizer
			class="resizer vert-divider tw-group tw-flex tw-cursor-ew-resize tw-flex-col tw-items-center tw-justify-center"
			id="dragMe">
			<mat-divider
				vertical
				class="divider tw-grow group-hover:tw-border-r-primary-200"></mat-divider>
			<button
				mat-icon-button
				class="tw-cursor-ew-resize group-hover:tw-text-primary-400"
				disableRipple>
				<mat-icon>more_vert</mat-icon>
			</button>
			<mat-divider
				vertical
				class="divider tw-grow group-hover:tw-border-r-primary-200"></mat-divider>
		</div>

		<div
			#container__right
			class="tw-flex tw-min-w-[1rem] tw-overflow-auto tw-rounded-l-none tw-rounded-r-2xl tw-p-2">
			<markdown
				[data]="(htmlRightInput$ | async) || ''"
				ngPreserveWhitespaces>
			</markdown>
		</div>
	</div>
</div>
