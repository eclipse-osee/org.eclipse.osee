<!--
 * Copyright (c) 2021 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<button mat-menu-item (click)="navigateToMessages(data?.id||'')"> Go to {{data.name}}</button>
<button mat-menu-item (click)="navigateToMessagesInNewTab(data.id||'')"> Go to {{data.name}} in new tab</button>
<ng-container *ngIf="hasChanges(data)">
    <button mat-menu-item [matMenuTriggerFor]="linkDiffMenu" [matMenuTriggerData]="{data:data}">View Diff for</button>
</ng-container>
<ng-container *ngIf="editMode && !(hasChanges(data) && data.deleted)">
    <button mat-menu-item (click)="openConnectionEditDialog(data)"> Edit {{data.name}}</button>
    <button mat-menu-item (click)="openRemoveConnectionDialog(data,source,target)"> Remove connection {{data.name}}</button>
</ng-container>
<mat-menu #linkDiffMenu="matMenu">
    <ng-template matMenuContent let-data="data">
        <ng-container *ngIf="data?.changes?.name!==undefined">
            <button mat-menu-item (click)="viewDiff(true,data.changes.name,'Name')">Name</button>
        </ng-container>
        <ng-container *ngIf="data?.changes?.description!==undefined">
            <button mat-menu-item (click)="viewDiff(true,data.changes.description,'Description')">Description</button>
        </ng-container>
        <ng-container *ngIf="data?.changes?.transportType!==undefined">
            <button mat-menu-item (click)="viewDiff(true,data.changes.transportType,'Transport Type')">Transport Type</button>
        </ng-container>
        <ng-container *ngIf="data?.changes?.applicability!==undefined">
            <button mat-menu-item (click)="viewDiff(true,data.changes.applicability,'Applicability')">Applicability</button>
        </ng-container>
    </ng-template>
</mat-menu>