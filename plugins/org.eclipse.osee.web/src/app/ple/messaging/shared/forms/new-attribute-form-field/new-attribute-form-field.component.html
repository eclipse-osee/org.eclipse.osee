<!--
 * Copyright (c) 2022 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<ng-container *ngIf="form.editable">
	<ng-container *ngIf="form.name === 'Units'; else genericInput">
		<mat-form-field class="wide-form">
			<mat-label>{{ form.name }}</mat-label>
			<mat-select
				[(ngModel)]="form.value"
				[name]="form.attributeType | oseeFirstLetterLower"
				[id]="form.attributeTypeId"
				[required]="form.required"
				(ngModelChange)="change()"
				#ctrl="ngModel"
				[attr.data-cy]="'field-' + form.attributeType">
				<mat-option
					*ngFor="let unit of units"
					[value]="unit">
					{{ unit }}
				</mat-option>
				<ng-container *ngIf="form.defaultValue">
					<mat-hint align="end"
						>Default Value: {{ form.defaultValue }}</mat-hint
					>
				</ng-container>
			</mat-select>
		</mat-form-field>
	</ng-container>
	<ng-template #genericInput>
		<mat-form-field class="wide-form">
			<mat-label>{{ form.name }}</mat-label>
			<ng-container *ngIf="form.attributeType === 'Name'">
				<input
					matInput
					type="text"
					[(ngModel)]="form.value"
					[name]="form.attributeType | oseeFirstLetterLower"
					[id]="form.attributeTypeId"
					oseeUniquePlatformTypeName
					[ngModelOptions]="{ updateOn: 'blur' }"
					#ctrl="ngModel"
					[required]="form.required"
					(ngModelChange)="change()"
					[attr.data-cy]="'field-' + form.attributeType" />
			</ng-container>
			<ng-container *ngIf="form.attributeType !== 'Name'">
				<input
					matInput
					type="text"
					[(ngModel)]="form.value"
					[name]="form.attributeType | oseeFirstLetterLower"
					[id]="form.attributeTypeId"
					#ctrl="ngModel"
					[required]="form.required"
					(ngModelChange)="change()"
					[attr.data-cy]="'field-' + form.attributeType" />
			</ng-container>
			<ng-container *ngIf="form.defaultValue">
				<mat-hint align="end"
					>Default Value: {{ form.defaultValue }}</mat-hint
				>
			</ng-container>
		</mat-form-field>
	</ng-template>
	<br />
</ng-container>
<ng-container *ngIf="!form.editable">
	{{ setDefaultValue() }}
</ng-container>
