<!--
 * Copyright (c) 2021 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<ng-container *ngIf="header !== 'rowControls'">
	<ng-container
		*ngIf="!element.interfaceElementArrayHeader; else array_header">
		<ng-container
			*ngIf="editMode === true && !element.autogenerated; else no_edit">
			<ng-container *ngIf="header === 'platformType'">
				<osee-messaging-edit-element-field
					[header]="header"
					[structureId]="structure.id"
					[elementId]="element['id']"
					[elementStart]="element['interfaceElementIndexStart']"
					[elementEnd]="element['interfaceElementIndexEnd']"
					[value]="element['platformType']"
					[platformType]="element['platformType']"
					[editingDisabled]="
						hasChanges(element) ? element.deleted : false
					"
					(contextMenu)="
						openGeneralMenu($event, element, element[header])
					"
					[attr.data-cy]="
						'element-table-' +
						header +
						'-' +
						element.name +
						'-' +
						element[header]
					"></osee-messaging-edit-element-field>
			</ng-container>
			<ng-container *ngIf="header !== 'platformType'">
				<ng-container
					*ngIf="
						editableElementHeaders.includes(header) &&
							(header !== 'enumLiteral' ||
								element.logicalType !== 'enumeration');
						else no_edit
					">
					<osee-messaging-edit-element-field
						[header]="header"
						[structureId]="structure.id"
						[elementId]="element['id']"
						[elementStart]="element['interfaceElementIndexStart']"
						[elementEnd]="element['interfaceElementIndexEnd']"
						[value]="element[header]"
						[editingDisabled]="
							hasChanges(element) ? element.deleted : false
						"
						[platformType]="element['platformType']"
						[attr.data-cy]="
							'element-table-' +
							header +
							'-' +
							element.name +
							'-' +
							element[header]
						"></osee-messaging-edit-element-field>
				</ng-container>
			</ng-container>
		</ng-container>
	</ng-container>

	<ng-template #no_edit>
		<ng-container
			*ngIf="
				header === 'enumLiteral' &&
				element.logicalType === 'enumeration'
			">
			<osee-enum-literals-field
				[enumLiterals]="element.enumLiteral"></osee-enum-literals-field>
		</ng-container>
		<ng-container
			*ngIf="
				header !== 'enumLiteral' ||
				element.logicalType !== 'enumeration'
			">
			<osee-messaging-sub-element-table-no-edit-field
				[filter]="filter"
				[header]="header"
				[element]="element"
				[width]="(layout | async)?.tableRecommendations?.width || ''"
				[attr.data-cy]="
					'element-table-' +
					header +
					'-' +
					element.name +
					'-' +
					element[header]
				"></osee-messaging-sub-element-table-no-edit-field>
		</ng-container>
	</ng-template>
</ng-container>

<ng-template #array_header>
	<ng-container
		*ngIf="
			header === 'name' ||
			header === 'description' ||
			header === 'interfaceElementIndexStart' ||
			header === 'interfaceElementIndexEnd' ||
			header === 'beginWord' ||
			header === 'endWord' ||
			header === 'beginByte' ||
			header === 'endByte' ||
			header === 'notes' ||
			header === 'applicability'
		">
		<ng-container
			*ngIf="
				editMode === true && editableElementHeaders.includes(header)
			">
			<osee-messaging-edit-element-field
				[header]="header"
				[structureId]="structure.id"
				[elementId]="element['id']"
				[elementStart]="element['interfaceElementIndexStart']"
				[elementEnd]="element['interfaceElementIndexEnd']"
				[value]="element[header]"
				[editingDisabled]="
					hasChanges(element) ? element.deleted : false
				"
				[platformType]="element['platformType']"
				[attr.data-cy]="
					'element-table-' +
					header +
					'-' +
					element.name +
					'-' +
					element[header]
				"></osee-messaging-edit-element-field>
		</ng-container>
		<ng-container
			*ngIf="
				editMode === false || !editableElementHeaders.includes(header)
			">
			<osee-messaging-sub-element-table-no-edit-field
				[filter]="filter"
				[header]="header"
				[element]="element"
				[width]="(layout | async)?.tableRecommendations?.width || ''"
				[attr.data-cy]="
					'element-table-' +
					header +
					'-' +
					element.name +
					'-' +
					element[header]
				"></osee-messaging-sub-element-table-no-edit-field>
		</ng-container>
	</ng-container>
</ng-template>
