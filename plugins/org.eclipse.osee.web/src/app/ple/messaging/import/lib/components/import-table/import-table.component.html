<!--
 * Copyright (c) 2023 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<div class="table-height">
	<table
		mat-table
		[dataSource]="data"
		class="mat-elevation-z1">
		<ng-container [matColumnDef]="'TableHeader'">
			<th
				mat-header-cell
				*matHeaderCellDef
				[attr.colspan]="headers.length"
				class="diff-table-title-header diff-report-base-color">
				{{ tableTitle }}: {{ data.length }}
			</th>
		</ng-container>
		<ng-container
			[matColumnDef]="header"
			*ngFor="let header of headers">
			<th
				mat-header-cell
				*matHeaderCellDef
				class="diff-table-cell message-element-interface-table-view-message-header">
				{{
					(getTableHeaderByName(header) | async)?.humanReadable || ''
				}}
			</th>
			<td
				mat-cell
				*matCellDef="let item; let i = index">
				<ng-container *ngIf="header !== 'applicability'">
					{{ item[header] }}
				</ng-container>
				<ng-container *ngIf="header === 'applicability'">
					{{ item[header].name }}
				</ng-container>
			</td>
		</ng-container>
		<tr
			mat-header-row
			*matHeaderRowDef="['TableHeader']; sticky: true"
			(click)="toggleTableContents()"
			class="table-title-row">
			SubMessages
		</tr>
		<tr
			mat-header-row
			*matHeaderRowDef="headers; sticky: true"
			[ngClass]="showTableContents ? 'show-table' : 'hide-table'"></tr>
		<tr
			mat-row
			*matRowDef="let row; columns: headers"
			[ngClass]="showTableContents ? 'show-table' : 'hide-table'"
			class="message-detail-row"></tr>
	</table>
</div>
