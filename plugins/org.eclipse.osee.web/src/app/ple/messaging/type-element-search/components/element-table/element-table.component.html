<!--
 * Copyright (c) 2021 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<div class='mat-elevation-z8'>
    <osee-typesearch-element-table-search></osee-typesearch-element-table-search>
    <table mat-table multiTemplateDataRows [dataSource]="dataSource" class="table-full-width">
        <ng-container [matColumnDef]="header" *ngFor="let header of headers; let i = index; trackBy:valueTracker;">
            <th mat-header-cell *matHeaderCellDef [attr.colspan]="headers[i]" class="message-interface-table-view-message-header">
                <ng-container>
                    {{getHumanReadable(header)|async}}
                </ng-container>
            </th>
            <td mat-cell *matCellDef="let element; let i = dataIndex" [ngClass]="i%2===0? 'message-table-row-even':'message-table-row-odd'">
                <ng-container *ngIf="header === 'notes' || header === 'description'; else noShrink">
                    {{element[header] | displayTruncatedStringWithFieldOverflow:15}}
                </ng-container>
                <ng-template #noShrink>
                    {{element[header]}}
                </ng-template>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="headers; sticky:true">
        </tr>    
        <tr mat-row *matRowDef= "let row; columns: headers;"    
        class="message-detail-row">
        </tr>
    </table>
</div>
