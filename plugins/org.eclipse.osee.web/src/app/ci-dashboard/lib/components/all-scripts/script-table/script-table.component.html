<!--
 * Copyright (c) 2023 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 -->
<div class="mat-elevation-z8 tw-h-[76vh] tw-w-screen tw-overflow-auto">
	<ng-container *ngIf="scriptDefs | async as _defs">
		<mat-table [dataSource]="_defs">
			<ng-container
				[matColumnDef]="header"
				*ngFor="let header of headers">
				<th
					mat-header-cell
					*matHeaderCellDef
					class="tw-text-center tw-align-middle tw-font-medium tw-text-primary-600"
					[matTooltip]="
						(getTableHeaderByName(header) | async)?.description ||
						''
					">
					{{
						(getTableHeaderByName(header) | async)?.humanReadable ||
							''
					}}
				</th>
				<td
					mat-cell
					*matCellDef="let def"
					class="tw-align-middle">
					<ng-container *ngIf="header === 'name'">
						<button
							mat-list-item
							(click)="resultList(def.id)"
							class="tw-text-blue-500 tw-underline">
							{{ def[header] }}
						</button>
					</ng-container>
					<ng-container *ngIf="header !== 'name'">
						{{ def[header] }}
					</ng-container>
				</td>
			</ng-container>
			<tr
				mat-header-row
				*matHeaderRowDef="headers; sticky: true"></tr>
			<tr
				mat-row
				*matRowDef="let row; columns: headers; let i = index"
				class="odd:tw-bg-selected-button even:tw-bg-background-background"
				[attr.data-cy]="'script-def-table-row-' + row.name"></tr>
		</mat-table>
	</ng-container>
</div>
