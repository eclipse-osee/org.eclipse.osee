<!--
 * Copyright (c) 2023 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<ng-container>
	<form
		class="create-form"
		#createArtifactForm="ngForm"
		(ngSubmit)="onSubmitHandler(createArtifactForm)">
		<section>
			<mat-form-field
				appearance="outline"
				class="command-input-field">
				<mat-label>Command Name</mat-label>
				<input
					matInput
					required
					type="text"
					[(ngModel)]="commandObject.name"
					name="commandName"
					#commandName="ngModel" />
				<button
					type="button"
					*ngIf="commandObject.name"
					matSuffix
					mat-icon-button
					aria-label="Clear"
					(click)="commandObject.name = ''">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field
				appearance="outline"
				class="command-input-field">
				<mat-label>Description</mat-label>
				<input
					matInput
					required
					type="text"
					[(ngModel)]="commandObject.description"
					name="commandDescription"
					#commandDescription="ngModel" />
				<button
					type="button"
					*ngIf="commandObject.description"
					matSuffix
					mat-icon-button
					aria-label="Clear"
					(click)="commandObject.description = ''">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<mat-form-field
				appearance="outline"
				class="command-input-field">
				<mat-label>URL</mat-label>
				<input
					matInput
					pattern="{{ patternValidatorForURL }}"
					required
					type="url"
					[(ngModel)]="commandObject.contentURL"
					name="commandContentUrl"
					#commandContentUrl="ngModel" />
				<button
					type="button"
					*ngIf="commandObject.contentURL"
					matSuffix
					mat-icon-button
					aria-label="Clear"
					(click)="commandObject.contentURL = ''">
					<mat-icon>close</mat-icon>
				</button>
			</mat-form-field>
			<button
				type="button"
				class="adv-options-btn"
				mat-raised-button
				color="accent"
				(click)="displayParameterOptionsBtnHandler($event)">
				<mat-icon *ngIf="!displayParameterOptions">
					expand_more
				</mat-icon>
				<mat-icon *ngIf="displayParameterOptions">
					expand_less
				</mat-icon>
				Advanced Options
			</button>
		</section>
		<ng-container *ngIf="displayParameterOptions">
			<section>
				<mat-form-field
					appearance="outline"
					class="parameter-input-field">
					<mat-label>Parameter Description</mat-label>
					<input
						matInput
						type="text"
						[(ngModel)]="defaultParameter.description"
						[value]="commandObject.description"
						name="parameterDescription" />
					<button
						type="button"
						*ngIf="defaultParameter.description"
						matSuffix
						mat-icon-button
						aria-label="Clear"
						(click)="defaultParameter.description = ''">
						<mat-icon>close</mat-icon>
					</button>
				</mat-form-field>
				<mat-form-field
					appearance="outline"
					class="parameter-input-field">
					<mat-label>Parameters Default Value</mat-label>
					<input
						matInput
						type="url"
						[(ngModel)]="defaultParameter.defaultValue"
						name="parameterdefaultValue" />
					<button
						type="button"
						*ngIf="defaultParameter.defaultValue"
						matSuffix
						mat-icon-button
						aria-label="Clear"
						(click)="defaultParameter.defaultValue = ''">
						<mat-icon>close</mat-icon>
					</button>
				</mat-form-field>
			</section>
		</ng-container>
		<div class="submit-btn-container">
			<button
				type="submit"
				mat-raised-button
				color="accent"
				[disabled]="!createArtifactForm.valid">
				Create New Command
			</button>
		</div>
	</form>
</ng-container>
