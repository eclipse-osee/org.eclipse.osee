<!--
 * Copyright (c) 2023 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8"></meta>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
    <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    
	 <link rel="stylesheet" type="text/css" href="/ajax/libs/bootstrap/3.3.2/css/bootstrap.min.css"></link>

    <title>OSEE - OAuth2 Client Registration</title>
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="/ajax/libs/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="/ajax/libs/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
<script type="text/javascript">
	function reloadImageURL() {
		var inputElement = document.getElementById('applicationLogo');
		readImageURL(inputElement);
	}

	function readImageURL(input) {
		if (input.files && input.files[0]) {
			var file = input.files[0];

			var reader = new FileReader();
			reader.onload = function(e) {
				var element = document.getElementById('image-preview');
				element.src = e.target.result;
			};
			reader.readAsDataURL(file);
		}
	}
</script>
</head>
<body onload="reloadImageURL()">
   <div class="container">
      <h1>OSEE - OAuth2 Client Registration</h1>
      <form class="form-horizontal" role="form" method="POST" enctype="multipart/form-data" action="<?replyTo?>">
         <?hiddenFieldsSection?>

         <div class="form-group">
            <label class="col-sm-2 control-label" for="applicationName">Application Name</label>
            <div class="col-sm-10">
               <input type="text" class="form-control" name="applicationName" placeholder="Application name"
                  title="The name entered is used to identify your application to end users." required>
            </div>
         </div>

         <div class="form-group">
            <label class="col-sm-2 control-label" for="applicationDescription">Description</label>
            <div class="col-sm-10">
               <input type="text" class="form-control" name="applicationDescription" placeholder="Application description"
                  title="The description name entered is used to description the application to end users." required>
            </div>
         </div>

         <div class="form-group">
            <div class="col-sm-2 control-label">
               <label for="applicationUri">Homepage URL</label> <span class="help-block">Optional</span>
            </div>
            <div class="col-sm-10">
               <input type="url" class="form-control" name="applicationUri" placeholder="http:// or https://"
                  title="The URL entered is used to allow end users to access your application's home page.">
            </div>
         </div>

         <div class="form-group">
            <div class="col-sm-2 control-label">
               <label for="applicationLogoData">Logo</label> <span class="help-block">Optional</span>
            </div>
            <div class="col-sm-10">
               <input type="file" accept="image/gif,image/jpeg,image/png" id="applicationLogoData" name="applicationLogoData" placeholder="Application Logo"
                  title="Select an image to use as the application logo" onchange="readImageURL(this)">
               <div class="media help-block">
                  <img id="image-preview" class="media-object pull-left img-thumbnail img-responsive" alt="Selected-Logo"
                     style="height: 120px; width: 120px;" />
                  <p class="media-body">
                     This is how your logo will look like to end users.<br />Max size: 120 x 120 px
                  </p>
               </div>
            </div>
         </div>

         <div class="form-group">
            <div class="col-sm-2 control-label">
               <label for="applicationRedirectUri">Authorized redirect URI</label> <span class="help-block">Optional</span>
            </div>
            <div class="col-sm-10"
               title="Enter the authorized callback URI's separated by spaces or newlines. These URI's are provided by client applications during OAuth flows.">
               <textarea class="form-control" rows="3" name="applicationRedirectUri" placeholder="https://www.example.com/oauth2callback"></textarea>
            </div>
         </div>

         <div class="form-group">
            <div class="col-sm-10 pull-right">
               <button type="submit" class="btn btn-default" name="<?registrationDecisionKey?>" value="<?registrationDecisionCancel?>">Cancel</button>
               <button type="submit" class="btn btn-primary" name="<?registrationDecisionKey?>" value="<?registrationDecisionAccept?>">Register</button>
            </div>
         </div>
      </form>
   </div>
</body>
</html>