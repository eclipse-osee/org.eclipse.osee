<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">

    <!-- Note: Don't add rust-maven-plugin to <dependencies>. -->

	<modelVersion>4.0.0</modelVersion>

	<parent>
		<groupId>org.eclipse.osee</groupId>
		<artifactId>org.eclipse.osee.orcs.parent</artifactId>
		<version>1.0.0-SNAPSHOT</version>
		<relativePath>../../plugins/org.eclipse.osee.orcs.parent</relativePath>
	</parent>

	<artifactId>org.eclipse.osee.java.rust.ffi</artifactId>
	<packaging>eclipse-plugin</packaging>
	<name>OSEE Java Rust FFI - (Incubation)</name>

	<properties>
		<java.package.name>applicability</java.package.name>
		<project.version>1.0.0-SNAPSHOT</project.version>
	</properties>

 	<build>
        <plugins>

            <!-- Step 1: Log start of build process -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-antrun-plugin</artifactId>
                <version>1.8</version>
                <executions>
                    <execution>
                        <phase>initialize</phase>
                        <configuration>
                            <target>
                                <echo message="Starting build process for org.eclipse.osee.java.rust.ffi plugin..." />
                            </target>
                        </configuration>
                        <goals>
                            <goal>run</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <!-- Add step here to move built rust binaries into this project DO NOT MERGE TILL THIS IS COMPLETE JADEN -->
            


            <!-- Step 3: Package as an OSGi-compliant Eclipse plugin JAR -->
            <plugin>
                <groupId>org.apache.felix</groupId>
                <artifactId>maven-bundle-plugin</artifactId>
                <version>5.1.2</version>
                <extensions>true</extensions>
                <configuration>
                    <instructions>
                        <Bundle-SymbolicName>org.eclipse.osee.java.rust.ffi</Bundle-SymbolicName>
                        <Bundle-Version>${project.version}</Bundle-Version>
                        <Export-Package>${java.package.name}</Export-Package>
                        <Bundle-Activator>${java.package.name}.ApplicabilityParseSubstituteAndSanitize</Bundle-Activator>
                    </instructions>
                </configuration>
            </plugin>

            <!-- Step 4: Log completion message -->
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-antrun-plugin</artifactId>
                <version>1.8</version>
                <executions>
                    <execution>
                        <phase>verify</phase>
                        <configuration>
                            <target>
                                <echo message="Build process completed for org.eclipse.osee.java.rust.ffi plugin." />
                                <echo message="Check ${project.build.directory} for the final JAR output." />
                            </target>
                        </configuration>
                        <goals>
                            <goal>run</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

        </plugins>
    </build>

</project>
