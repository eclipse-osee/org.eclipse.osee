<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>
   <extension-point id="AdvancedPageContribution" name="AdvancedPageContribution" schema="schema/AdvancedPageContribution.exsd"/>

     <extension point="org.eclipse.ui.actionSets">
      <actionSet
         label="OSEE TM"
         visible="true"
         id="org.eclipse.osee.ote.ui.test.manager.actionSet">

           
      </actionSet>
   </extension>


<!-- this changes the marker image in the editor marker bar  -->

       
    
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="Test Manager"
            id="org.eclipse.osee.ote.ui.test.manager">
      </category>
      <wizard
            name="Test Manager File"
            icon="images/tm.gif"
            category="org.eclipse.osee.ote.ui.test.manager"
            class="org.eclipse.osee.ote.ui.test.manager.wizards.TestManagerNewWizard"
            id="org.eclipse.osee.ote.ui.test.manager.wizards.TestManagerNewWizard">
      </wizard>
   </extension>
   <extension
         point="org.eclipse.help.toc">
      <toc
            file="help/toc.xml"
            primary="false">
      </toc>
      <toc
            file="help/training.xml">
      </toc>
      <toc
            file="help/testing.xml">
      </toc>
   </extension>
   <extension
         point="org.eclipse.ui.popupMenus">
      <objectContribution
            objectClass="org.eclipse.jdt.core.ICompilationUnit"
            nameFilter="*"
            id="org.eclipse.osee.ote.ui.test.manager.contribution1">
         <menu
               label="Test Manager"
               path="additions"
               id="org.eclipse.osee.ote.ui.test.manager.menu1">
            <separator
                  name="markers">
            </separator>
         </menu>
         <action
               enablesFor="1"
               label="Add to Test Manager"
               icon="images/tm.gif"
               class="org.eclipse.osee.ote.ui.test.manager.actions.AddToTestManagerPopupAction"
               menubarPath="org.eclipse.osee.ote.ui.test.manager.menu1/markers"
               id="org.eclipse.osee.ote.ui.test.manager.addtotestmanager">
         </action>
      </objectContribution>
         <viewerContribution
             targetID="#CompilationUnitEditorContext"
             id="viewConf">
          <action
                label="Add To Test Manager"
                icon="images/tm.gif"
                menubarPath="org.eclipse.jdt.ui.source.menu"
                id="org.eclipse.osee.ote.ui.test.manager.actions.AddToTestManagerEditorAction"
                class="org.eclipse.osee.ote.ui.test.manager.actions.AddToTestManagerEditorAction"/>
      </viewerContribution>
         <objectContribution
               adaptable="true"
               id="org.eclipse.osee.ote.ui.test.manager.TestManagerMenu"
               objectClass="org.eclipse.jdt.core.IJavaProject">
            <menu
                  id="org.eclipse.osee.ote.ui.test.manager.menu1"
                  label="Test Batch"
                  path="additions">
               <separator
                     name="separator1">
               </separator>
            </menu>
         </objectContribution>
         <objectContribution
               id="org.eclipse.osee.ote.ui.test.manager.TestBatchActions"
               objectClass="org.eclipse.jdt.core.IJavaProject">
            <visibility>
               <not>
                  <objectState
                        name="nature"
                        value="org.eclipse.osee.ote.ui.test.manager.TestBatchProjectNature">
                  </objectState>
               </not>
            </visibility>
            <action
                  class="org.eclipse.osee.ote.ui.test.manager.batches.actions.AddTestBatchProjectNature"
                  enablesFor="1"
                  icon="images/add.gif"
                  id="org.eclipse.osee.ote.ui.test.manager.action1"
                  label="Add Test Batch Nature"
                  menubarPath="org.eclipse.osee.ote.ui.test.manager.menu1/separator1">
            </action>
         </objectContribution>
                  <objectContribution
               id="org.eclipse.osee.ote.ui.test.manager.TestBatchProjects"
               objectClass="org.eclipse.jdt.core.IJavaProject">
            <visibility>
                  <objectState
                        name="nature"
                        value="org.eclipse.osee.ote.ui.test.manager.TestBatchProjectNature">
                  </objectState>
            </visibility>
            <action
                  class="org.eclipse.osee.ote.ui.test.manager.batches.actions.RemoveTestBatchProjectNature"
                  enablesFor="1"
                  icon="images/delete.gif"
                  id="org.eclipse.osee.ote.ui.test.manager.action2"
                  label="Remove Test Batch Nature"
                  menubarPath="org.eclipse.osee.ote.ui.test.manager.menu1/separator1">
            </action>
         </objectContribution>
   </extension>
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            category="org.eclipse.osee.framework.ui.skynet.OseePreferencePage"
            class="org.eclipse.osee.ote.ui.test.manager.preferences.TestManagerPreferencePage"
            id="org.eclipse.osee.ote.ui.test.manager.PreferencePage"
            name="Test Manager"/>
   </extension>
   <extension
         point="org.eclipse.help.contexts">
      <contexts file="contexts/tmAdvancedPage.xml"/>
      <contexts file="contexts/tmHostsPage.xml"/>
      <contexts file="contexts/tmScriptsPage.xml"/>
      <contexts file="contexts/tmOverviewPage.xml"/>
   </extension>
   <extension
         point="org.eclipse.osee.ote.ui.test.manager.AdvancedPageContribution">
      <AdvancedPageContribution
            classname="org.eclipse.osee.ote.ui.test.manager.pages.contributions.ScriptExecutionContribution">
      </AdvancedPageContribution>
   </extension>
   <extension
         id="TestBatchProjectNature"
         name="Test Batch Nature"
         point="org.eclipse.core.resources.natures">
      <runtime>
         <run
               class="org.eclipse.osee.ote.ui.test.manager.batches.TestBatchProjectNature">
         </run>
      </runtime>
   </extension>
   <extension
         point="org.eclipse.ui.decorators">
      <decorator
            adaptable="true"
            class="org.eclipse.osee.ote.ui.test.manager.batches.TestBatchDecorator"
            icon="images/test.gif"
            id="org.eclipse.osee.ote.ui.test.manager.decorator"
            label="Test Batch Project"
            lightweight="true"
            location="TOP_RIGHT"
            state="true">
         <description>
            A Test Batch Project contains project set files and test manager batch config files which allow users to quickly setup their test manager and workspace.
         </description>
         <enablement>
            <or>
               <and>
                  <objectClass name="org.eclipse.jdt.core.IJavaProject"/>
                  <objectState
                        value="org.eclipse.osee.ote.ui.test.manager.TestBatchProjectNature"
                        name="nature"/>
               </and>
               <and>
                  <objectClass name="org.eclipse.core.resources.IProject"/>
                  <objectState
                        value="org.eclipse.osee.ote.ui.test.manager.TestBatchProjectNature"
                        name="nature"/>
               </and>
            </or>
         </enablement>
      </decorator>
   </extension>
   <extension
         point="org.eclipse.osee.ote.ui.OteNavigateItem">
      <IOteNavigateItem
            classname="org.eclipse.osee.ote.ui.test.manager.batches.navigate.TestBatchSetupViewItems">
      </IOteNavigateItem>
   </extension>
</plugin>
