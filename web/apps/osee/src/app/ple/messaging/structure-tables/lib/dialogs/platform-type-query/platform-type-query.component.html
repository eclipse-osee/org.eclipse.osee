<!--
* Copyright (c) 2022 Boeing
*
* This program and the accompanying materials are made
* available under the terms of the Eclipse Public License 2.0
* which is available at https://www.eclipse.org/legal/epl-2.0/
*
* SPDX-License-Identifier: EPL-2.0
*
* Contributors:
*     Boeing - initial API and implementation
-->
<mat-label>Query for Platform Type:</mat-label>
<div>
	<div class="tw-flex tw-flex-row tw-justify-around">
		<ng-container>
			<mat-form-field class="tw-w-full">
				<mat-label>Byte Size</mat-label
				><!--TODO: Replace this with an api function later to handle bit/byte depending on preference-->
				<input
					type="number"
					matInput
					[(ngModel)]="bitSize"
					[min]="minBitSize"
					[max]="maxBitSize"
					data-cy="field-byte-size" />
				<mat-slider
					matSuffix
					[min]="minBitSize"
					[max]="maxBitSize"
					[step]="bitSizeSliderStepSize"
					thumbLabel="true"
					[displayWith]="bitSizeDisplay"
					color="primary"
					matSuffix>
					<input
						[(ngModel)]="bitSize"
						matSliderThumb />
				</mat-slider>
				<span matSuffix>
					<button
						mat-icon-button
						(click)="queryTypes()"
						class="query-button"
						data-cy="query-button">
						<mat-icon>search</mat-icon>
					</button>
				</span>
			</mat-form-field>
		</ng-container>
	</div>
	<div>
		<mat-form-field class="tw-w-full">
			<mat-label>Name</mat-label>
			<input
				matInput
				[(ngModel)]="name"
				[matAutocomplete]="nameAuto" />
			<mat-autocomplete
				autoActiveFirstOption
				class="name-select"
				data-cy="field-name"
				#nameAuto="matAutocomplete">
				@for (type of types; track type) {
					<mat-option
						[value]="type"
						[attr.data-cy]="'option-' + type">
						<mat-label>{{ type }}</mat-label>
					</mat-option>
				}
			</mat-autocomplete>
		</mat-form-field>
		<br />
		<mat-form-field class="tw-w-full">
			<mat-label>Description</mat-label>
			<textarea
				cdkTextareaAutosize
				matInput
				[(ngModel)]="description"
				[matAutocomplete]="descriptionAuto"></textarea>
			<mat-autocomplete
				autoActiveFirstOption
				class="description-select"
				data-cy="field-description"
				#descriptionAuto="matAutocomplete">
				@for (_description of descriptions; track _description) {
					<mat-option
						[value]="_description"
						[attr.data-cy]="'option-' + _description">
						<mat-label>{{ _description }}</mat-label>
					</mat-option>
				}
			</mat-autocomplete>
		</mat-form-field>
	</div>
	<br />
	<div class="tw-flex tw-flex-row tw-justify-around">
		<mat-form-field>
			<mat-label>Logical Type</mat-label>
			<mat-select
				[(ngModel)]="logicalType"
				class="logical-type-select"
				data-cy="field-logical-type"
				style="visibility: visible">
				@for (lt of logicalTypes; track lt) {
					<mat-option
						[value]="lt"
						[attr.data-cy]="'option-' + lt">
						<mat-label>{{ lt }}</mat-label>
					</mat-option>
				}
			</mat-select>
		</mat-form-field>
		<form>
			<osee-unit-dropdown [(unit)]="unit"> </osee-unit-dropdown>
		</form>
		<!-- <mat-form-field>
            <mat-label>Units</mat-label>
            <mat-select
              [(ngModel)]="unit"
              class="unit-select"
              data-cy="field-units"
              style="visibility: visible">
              <mat-option
                *ngFor="let unit of units | async"
                [value]="unit"
                [attr.data-cy]="'option-' + unit">
                <mat-label>{{ unit }}</mat-label>
              </mat-option>
            </mat-select>
          </mat-form-field> -->
	</div>
	<br />
	<div class="tw-flex tw-flex-row tw-justify-around">
		<mat-form-field>
			<mat-label>Minimum Value</mat-label>
			<mat-select
				[(ngModel)]="minimumValue"
				class="min-val-select"
				data-cy="field-min-val"
				style="visibility: visible">
				@for (minVal of minValues; track minVal) {
					<mat-option
						[value]="minVal"
						[attr.data-cy]="'option-' + minVal">
						<mat-label>{{ minVal }}</mat-label>
					</mat-option>
				}
			</mat-select>
		</mat-form-field>
		<mat-form-field>
			<mat-label>Maximum Value</mat-label>
			<mat-select
				[(ngModel)]="maximumValue"
				class="max-val-select"
				data-cy="field-max-val"
				style="visibility: visible">
				@for (maxVal of maxValues; track maxVal) {
					<mat-option
						[value]="maxVal"
						[attr.data-cy]="'option-' + maxVal">
						<mat-label>{{ maxVal }}</mat-label>
					</mat-option>
				}
			</mat-select>
		</mat-form-field>
	</div>
	<br />
	<div class="tw-flex tw-flex-row tw-justify-around">
		<mat-form-field>
			<mat-label>Default Value</mat-label>
			<mat-select
				[(ngModel)]="defaultVal"
				class="default-val-select"
				data-cy="field-default-val"
				style="visibility: visible">
				@for (defaultValue of defaultValues; track defaultValue) {
					<mat-option
						[value]="defaultValue"
						[attr.data-cy]="'option-' + defaultValue">
						<mat-label>{{ defaultValue }}</mat-label>
					</mat-option>
				}
			</mat-select>
		</mat-form-field>
		<mat-form-field>
			<mat-label>Msb Value</mat-label>
			<mat-select
				[(ngModel)]="msbValue"
				class="msb-val-select"
				data-cy="field-msb-val"
				style="visibility: visible">
				@for (msbVal of msbValues; track msbVal) {
					<mat-option
						[value]="msbVal"
						[attr.data-cy]="'option-' + msbVal">
						<mat-label>{{ msbVal }}</mat-label>
					</mat-option>
				}
			</mat-select>
		</mat-form-field>
	</div>
</div>
