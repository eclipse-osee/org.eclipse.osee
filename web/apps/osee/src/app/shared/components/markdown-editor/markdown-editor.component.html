<!--
 * Copyright (c) 2024 Boeing
 *
 * This program and the accompanying materials are made
 * available under the terms of the Eclipse Public License 2.0
 * which is available at https://www.eclipse.org/legal/epl-2.0/
 *
 * SPDX-License-Identifier: EPL-2.0
 *
 * Contributors:
 *     Boeing - initial API and implementation
 -->
<div class="tw-flex">
	<div class="tw-flex tw-flex-1 tw-flex-row tw-gap-4 tw-p-4">
		<button
			mat-icon-button
			matTooltip="Undo"
			(click)="undo()">
			<div>
				<mat-icon> undo </mat-icon>
			</div>
		</button>
		<button
			mat-icon-button
			matTooltip="Redo"
			(click)="redo()">
			<div>
				<mat-icon> redo </mat-icon>
			</div>
		</button>
		<button
			mat-icon-button
			matTooltip="Examples"
			[matMenuTriggerFor]="mdExamplesMenu">
			<div>
				<mat-icon> lightbulb </mat-icon>
			</div>
		</button>
		<mat-menu #mdExamplesMenu="matMenu">
			@for (mdExample of mdExamples; track $index) {
				<button
					(click)="addExampleToMdContent(mdExample.markdown)"
					mat-menu-item>
					<div class="tw-flex tw-flex-row tw-items-center">
						<div class="tw-flex tw-items-center">
							<mat-icon> {{ mdExample.icon }} </mat-icon>
						</div>
						{{ mdExample.name }}
					</div>
				</button>
			}
		</mat-menu>
	</div>
</div>
<!-- Editor -->
<div class="tw-flex tw-size-full tw-border tw-border-solid">
	<!-- Markdown Editor -->
	<mat-form-field
		ngPreserveWhitespaces
		class="tw-flex-1 [&>.mdc-text-field--filled]:tw-bg-inherit [&>.mdc-text-field--filled]:tw-text-inherit"
		subscriptSizing="dynamic">
		<textarea
			type="text"
			matInput
			cdkTextareaAutosize
			[(ngModel)]="mdContent"
			[disabled]="disabled()"
			placeholder="Start typing Markdown text..."
			class="placeholder:tw-font-mat-bold placeholder:tw-opacity-50"
			ngPreserveWhitespaces></textarea>
	</mat-form-field>

	<!-- Divider -->
	<mat-divider vertical></mat-divider>
	<!-- HTML (Markdown Preview) -->
	<div
		class="tw-flex-1 tw-p-4"
		[innerHtml]="mdPreview()"></div>
</div>
